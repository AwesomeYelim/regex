# 까먹을까봐 정리해 놓는 정규표현식


# 01. 정규표현식 시작!

### **정규표현식은 정확히 무엇인가 ?**

- 텍스트를 찾고 조작하는데 쓰는 문자열

- 정규표현식(Regular Expression), 줄여서 레젝스(regex)는 '도구' 이다

- 정규표현식은 완전한 프로그래밍 언어 x,  프로그램 x, 유틸리티 x -> 다른 프로그래밍 언어나 제품에 포함된 '작은언어(mini language)'

**왜 필요할까?**

    그리고 다른 도구들과 마찬가지로 특정한 문제를 해결할 목적으로 만들어졌음


**어떤상황에 쓰일수 있을까?**

     검색 & 치환

        - 원하는 정보가 어디 있는지 찾기(검색)
            일반적인 검색에서 쓰는 방법인 문자열 검색과는 다름
        - 정보를 찾은 뒤에 편집(치환)




# 02. 문자 하나 찾기!

### **모든 문자 찾기**

|부호|기능|
|:-|:-|
|.|아무 문자 <mark>하나</mark> 와 일치|
|..|붙어있는 문자 <mark>두개</mark> 와 일치|
|\\.| 자체를 찾을수 있다.


# 03. 문자 집합으로 찾기!

### **문자 집합([])을 사용하게 되면 ?**

- 특정 문자들과 문자 범위를 일치 시킬 수 있음
- 메타 문자인 대괄호([])를 사용해 문자 집합을 시용(대괄호([]) 안에 있는 문자는 모두 집합의 구성원이 되며, 집합에 속한 문자 가운데 <mark>하나</mark>가 일치)
- **집합 구성원중에 한 문자라도 일치해야함 ! (AND 가 아닌 OR)**
    

|부호|기능|
|:-|:-|
|[ns]|n이나 s중 <mark>한</mark> 문자와 일치|
|[0123456789]|0123456789중 <mark>한</mark> 문자와 일치|
|[0-9]|0123456789중 <mark>한</mark> 문자와 일치(위와 같은패턴, 영문자에도 적용됨)|
|[A-Z]|A부터 Z까지<mark>한</mark> 문자와 일치|
|[a-z]|a부터 z까지<mark>한</mark> 문자와 일치|
|[A-z]|A부터 z까지<mark>한</mark> 문자와 일치(왠만하면 사용 x -> Z와 a사이 아스키문자 중에는 여는 대괄호([)와 캐럿(^) 같은 문자도 포함되기 때문|


**_범위 지정시 유의사항_**

    1. 두 값중 더 큰값이 앞에 나오면 안됨 ex) [3-1]
    2. 하이픈(-) 은 대괄호 ([]) 안에서만 메타문자임 -> 집합 밖에서는 하이픈을 이스케이프(\) 할필요가 없음


**범위 여러개 집합 하나에 합치기**

|부호|기능|
|:-|:-|
|[A-Za-z0-9]|A부터Z, a부터z, 0부터9 중에 <mark>한</mark> 문자와 일치|


### **제외하고 찾기**

    지정 목록을 제외하고 매칭

|부호|기능|
|:-|:-|
|[^0-9]|정해진 범위(0부터 9까지) 내에 있는 숫자와 일치하지 않는다|   


📌 유의사항

    캐럿(^)문자는 이 문자 바로 뒤에있는 문자나 범위 뿐만 아니라 집합안에 있는 문자나 범위를 모두 제외함


# 04. 메타 문자 사용하기!

### **메타문자(특수 문자 기호) 이스케이프**

- 선택 `|` 
- 문자 클래스 `[]`
- 서브 패턴 `()`
- 수량자 `* + ? {}`
- 앵커 `^ $ \`
- 점 `.`
- 수정자 `g i m s` 등

**앞에 역슬래쉬(\\)를 붙여서 이스케이프 할 수 있도록 한다.**

### **공백 문자 찾기**

|메타문자|기능|
|:-|:-|
|`[\b]`|역스페이스|   
|`\f`|페이지 넘김(form feed)|   
|`\n`|줄바꿈|   
|`\r`|캐리지 리턴|   
|`\t`|탭|   
|`\v`|수직 탭|   


### **문자 클래스**

    자주쓰는 문자 집합들을 특수한 메타 형태로 대신하는것

|부호|기능|
|:-|:-|
|`\d`|숫자하나([0-9]와 같음)|
|`\D`|숫자를 제외한 문자하나([^0-9]와 같음)|
|`\w`|대소문자와 밑줄을 포함하는 모든 영숫자([a-zA-Z0-9_]와 같음)|
|`\W`|영숫자나 밑줄이 아닌 모든 문자([^a-zA-Z0-9_]와 같음)|
|`\s`|모든 공백 문자([\f\n\r\t\v])와 같음|
|`\S`|공백 문자가 아닌 모든 문자([^\f\n\r\t\v])와 같음|

📌 **정규 표현 문법은 대소문자를 구별**

# 05. 반복 찾기

### **문자 하나 이상 찾기**
- 더하기(+)는 문자가 <mark>최소 하나 이상</mark>일 때 일치함
- 별표(*)는 문자가 <mark>0개 이상</mark>일 때 일치함(있어도 없어도 됨)

 📌 메타문자이다(더하기(+) 나 별표(*) 그대로 찾기 위해선 이스케이프(\\)해야함)

|예시|설명|
|:-|:-|
|`\w+`|최소 1개 이상 일치 하는 영숫자|
|`[\w.]+`|영숫자와 (.)중 최소 1개 이상 일치|
|`\w*`|최소 0개 이상 일치 하는 영숫자|


### **문자가 없거나 하나인 문자 찾기**

- 물음표(?) 문자가 <mark>0 또는 1개</mark>일 때 일치함
📌 메타문자이다(물음표(?) 그대로 찾기 위해선 이스케이프(\\)해야함)

|예시|설명|
|:-|:-|
|`https?:`|http: 또는 https: / s가 있는지 없는지 여부를 따짐|


### **구간 지정하기**
    정확히 원하는 만큼만 일치하도록 문자수를 정의하기 위해선
    중괄호({})를 사용함
    📌 메타문자이다(중괄호({}) 그대로 찾기 위해선 이스케이프(\\)해야함)    

|예시|설명|
|:-|:-|
|`\d{3}`|6자리의 숫자를 찾아냄|
|`\d{1,3}`|한자리에서 3자리 숫자를 찾아냄|
|`\d{3,}`|최소 3자리의 숫자를 찾아냄|



### **과하게 일치하는 상황 방지하기**
    물음표(?)는 구간을 쓰면 정확히 지정한 만큼 일치하거나 지정한 범위 안애서만 검색을 수행함

**예시비교**

    - 예시
    <[B]>Ak</[B]>and<[B]>HI</[B]>
    
|대입식|찾아내는 값|
|:-|:-|
|`<[Bb]>.*</[Bb]>`|<mark><[B]>Ak</[B]>and<[B]>HI</[B]></mark>|
|`<[Bb]>.*?</[Bb]>`|<mark><[B]>Ak</[B]></mark>and<mark><[B]>HI</[B]></mark>|

- 탐욕적(greedy)
    별표(*)나 더하기(+) 같은 메타문자는 탐욕적이기 때문에, 가능한 가장 큰 한 덩어리를 찾으려고 함 -> 텍스트 마지막에서 시작해 거꾸로 찾음
- 게으른(lazy)
    문자가 최소한으로 일치함. 기존 수량자 뒤에 물음표(?)를 붙여서 표현

|탐욕적 수량자|게으른 수량자|
|:-|:-|
|`*`|`*?`|
|`+`|`+?`|
|`{n,}`|`{n,}?`|


# 06. 위치 찾기

- 위치 찾기는 텍스트 문자열 안에서 반드시 일치해야하는 위치를 지정할때 사용

### **단어 경계 지정하기**
    \b 로 표시하는 단어경계 -> 단어의 시작이나 마지막을 일치 시킬때 사용
    \B 로 표시하는 단어경계 -> 단어의 시작이나 마지막을 일치 시키지 싶지 않을때 사용
    
**예시비교**

    - 예시
    the cat scattered his food all over room,
    -> cat 을 dog로 치환
    
|대입식|치환 결과|
|:-|:-|
|`cat`|the <mark>dog</mark> s<mark>dog</mark>tered his food all over room,|
|`\bcat\b`|the <mark>dog</mark> scattered his food all over room,|

📌 `\b`는 실제로 문자와 일치하는 것이 아닌 위치를 가리킴



**예시비교**

    - 예시
    Please enter the nine-digit id as it appears on your color - coded pass-key
    
|대입식|매칭결과|
|:-|:-|
|`\B-\B`|Please enter the nine-digit id as it appears on your color <mark>-</mark> coded pass-key|

📌 `\B-\B`는 단어구분(word-break)문자로 둘러싸인 하이픈과 일치함


### **문자열 경계 지정하기**
    단어 경계는 단어의 위치(단어의 시작, 단어의 마지막, 단어 전쳬)를 기반으로 위치를 찾음
    - 캐럿(^) : 문자열의 시작을 나타냄(📌 집합([]) 밖에서)
    - 달러기호($) : 문자열의 마지막을 나타냄
    - 다중행 모드(?m) : 캐럿(^)과 달러기호($) 로 표시한 경계문자의 다중행을 지원함(📌 (?m)을 지원하지 않는 정규표현식 구현도 많음)

